import * as React from "react"
import axios from "axios";
import { useState, useEffect } from "react"
import * as mui from "@mui/material"
import TextField from '@mui/material/TextField';
import Fab from '@mui/material/Fab';
import Alert from '@mui/material/Alert';
import AddIcon from '@mui/icons-material/Add';
import EditIcon from '@mui/icons-material/Edit';
import FavoriteIcon from '@mui/icons-material/Favorite';
import SearchIcon from '@mui/icons-material/Search';
import Link from '@mui/material/Link';
import { DataGrid } from '@mui/x-data-grid';
import ExpandMoreIcon from '@mui/icons-material/ExpandMore';
import AppBar from '@mui/material/AppBar';
import Box from '@mui/material/Box';
import Toolbar from '@mui/material/Toolbar';
import Typography from '@mui/material/Typography';
import IconButton from '@mui/material/IconButton';
import MenuIcon from '@mui/icons-material/Menu';

const pageStyles = {
  color: "#232129",
  padding: 10,
  fontFamily: "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif",
}
const headingStyles = {
  marginTop: 0,
  marginBottom: 64,
  maxWidth: 320,
}
const headingAccentStyles = {
  
  color: "##f63!important",
  fontFamily: "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif"
}
const paragraphStyles = {
  marginBottom: 48,
}
const codeStyles = {
  color: "#8A6534",
  padding: 4,
  backgroundColor: "#FFF4DB",
  fontSize: "1.25rem",
  borderRadius: 4,
}
const listStyles = {
  marginBottom: 96,
  paddingLeft: 0,
}
const listItemStyles = {
  fontWeight: 300,
  fontSize: 24,
  maxWidth: 560,
  marginBottom: 30,
}
const linkStyle = {
  color: "#8954A8",
  fontWeight: "bold",
  fontSize: 16,
  fontFamily: "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif",
  verticalAlign: "5%",
}
const docLinkStyle = {
  ...linkStyle,
  listStyleType: "none",
  marginBottom: 24,
}
const descriptionStyle = {
  color: "#232129",
  fontSize: 14,
  marginTop: 10,
  marginBottom: 0,
  lineHeight: 1.25,
}
const docLink = {
  text: "Documentation",
  url: "https://www.gatsbyjs.com/docs/",
  color: "#8954A8",
}
const badgeStyle = {
  color: "#fff",
  backgroundColor: "#088413",
  border: "1px solid #088413",
  fontSize: 11,
  fontWeight: "bold",
  letterSpacing: 1,
  borderRadius: 4,
  padding: "4px 6px",
  display: "inline-block",
  position: "relative",
  top: -2,
  marginLeft: 10,
  lineHeight: 1,
}
const columns = [
  { field: 'id', headerName: 'ID', width: 90 },
  {
    field: 'vectorId',
    headerName: 'Feature Request ID',
    type: 'number',
    width: 150,
    editable: false,
  },
  {
    field: 'score',
    headerName: 'Trust Ratio',
    width: 100,
    type: 'number',
    editable: false,
  },
  {
    field: 'feature',
    headerName: 'Feature Name',
    type: 'string',
    flex: 0.3,
    editable: false
  },
  {
    field: 'description',
    headerName: 'Description',
    type: 'string',
    flex: 0.5,
    editable: false,
  }
];

//dummy data payload for mockup unit testing
function parseData(){
  let rows = []
  const data = {"matches":{"count":3,"matches":[{"score":0.679339265,"vectorId":"a0d2G00000XN6yU","vector":{"id":"a0d2G00000XN6yU","values":[-0.005192291457206011,-0.010312356986105442,0.018460415303707123,0.03411196544766426,0.04768343269824982,-0.009879286400973797,0.034856900572776794,0.03428574651479721,0.007511424832046032,-0.06646683067083359,0.001596352318301797,0.04793631657958031,-0.026233097538352013,0.029053324833512306,0.028913728892803192,0.08300447463989258,0.04323752224445343,0.023783819749951363,0.006184838712215424,0.018591295927762985,-0.0073593189008533955,-0.013181773945689201,-0.023202519863843918,0.010327726602554321,0.015196212567389011,-0.006392992101609707,0.02466990053653717,0.001201118458993733,-0.08318064361810684,-0.03998575359582901,0.09203089028596878,0.021701017394661903,0.002161635085940361,-0.04346904158592224,-0.0032404973171651363,-0.03602968901395798,-0.0451403446495533,-0.008264435455203056,-0.050685200840234756,-0.05535407364368439,-0.045340754091739655,0.003035422647371888,-0.00011830525909317657,-0.010127609595656395,0.002756131114438176,0.05054944381117821,-0.018118398264050484,0.02079116739332676,-0.027799760922789574,-0.02597735822200775,-0.054438915103673935,0.007239503785967827,0.04231541231274605,-0.01324333157390356,-0.029277091845870018,0.02144204080104828,-0.0032185378950089216,-0.043706752359867096,0.008301750756800175,-0.036166880279779434,0.015023757703602314,-0.007304495666176081,-0.011240832507610321,0.017415741458535194,0.014862152747809887,0.023290803655982018,0.027699891477823257,0.02501273900270462,-0.06406308710575104,-0.011170638725161552,0.0015444352757185698,-0.020419500768184662,-0.0068227387964725494,0.011507200077176094,-0.009637336246669292,-0.029190076515078545,-0.030298473313450813,0.046699944883584976,0.03698012977838516,0.05486923083662987,0.01520153135061264,-0.005789755843579769,0.02199428901076317,0.03890053555369377,-0.0224386528134346,-0.05626748129725456,0.0020825767423957586,-0.034701816737651825,-0.018720483407378197,0.10526061058044434,-0.017445547506213188,0.005130330566316843,0.08927969634532928,0.033810246735811234,-0.0061750635504722595,-0.07553024590015411,0.03415478393435478,-0.007632632739841938,0.0030642456840723753,-0.00002149331703549251,-0.04526488855481148,-0.0430922657251358,-0.021810725331306458,-0.01646028645336628,-0.07794518768787384,0.012027828954160213,0.0007433512364514172,0.009386841207742691,0.008550100028514862,0.0375027097761631,-0.02775169536471367,-0.006420189049094915,0.017506886273622513,-0.05483078956604004,-0.055116381496191025,0.06712564080953598,0.05304368957877159,0.0016418059822171926,0.005810755304992199,-0.027834303677082062,0.06289219111204147,0.0361434705555439,-0.005768442060798407,0.08082789927721024,0.02429637685418129,0.028803469613194466,-0.004479402210563421,0.0475916787981987,-0.010529332794249058,-0.08799704909324646,0.056071292608976364,0.07962722331285477,-0.009704114869236946,-0.011437499895691872,0.00592623557895422,-0.007287342566996813,-0.01659999042749405,-0.0540202334523201,0.028098121285438538,-0.019873756915330887,0.013574216514825821,0.031688325107097626,-0.022587735205888748,0.030206531286239624,0.01470881886780262,-0.04734998941421509,-0.0002767772239167243,-0.02842223457992077,-0.040039703249931335,-0.0161186084151268,0.019785862416028976,0.037128426134586334,-0.0014723553322255611,-0.029412711039185524,-0.011683383025228977,0.06952767819166183,-0.00432583037763834,-0.05379019305109978,-0.027632001787424088,0.01841091737151146,0.012667177245020866,-0.029944684356451035,-0.0006113615236245096,0.016595743596553802,-0.02411767654120922,-0.018700797110795975,0.010005953721702099,-0.005033653229475021,-0.006830989848822355,0.012675878591835499,-0.03955208510160446,-0.017003273591399193,0.0516461506485939,-0.012065326794981956,0.06309590488672256,0.0032373969443142414,0.07330658286809921,0.01002215314656496,0.04775536060333252,-0.002738610841333866,-0.08226967602968216,0.04239040985703468,-0.015787076205015182,0.029247280210256577,0.02889556623995304,-0.04180179163813591,0.09538501501083374,-0.02754327841103077,0.02768072858452797,0.004034378565847874,-0.09628402441740036,-0.04258580133318901,0.03912459313869476,0.017614072188735008,0.04565447196364403,-0.0014770077541470528,-0.027432609349489212,0.02324514463543892,-0.005275679752230644,0.01257171481847763,0.0124153858050704,0.04086003452539444,0.020893802866339684,-0.009776158258318901,-0.0683709979057312,-0.01383662037551403,0.002352050505578518,-0.034802425652742386,0.01778869889676571,0.0122663090005517,0.0006361771957017481,0.022404884919524193,0.017936144024133682,-0.06436237692832947,0.039091456681489944,-0.006044064182788134,0.04149986803531647,-0.02742215059697628,0.013708993792533875,-0.014902510680258274,-0.018061181530356407,-0.0525001659989357,-0.038295723497867584,0.010035800747573376,-0.006595158483833075,0.08523440361022949,0.04865540936589241,-0.04272051528096199,-0.055139269679784775,-0.010253725573420525,-0.0027567448560148478,-0.05775429308414459,0.0016159099759534001,-0.010281448252499104,-0.001956700114533305,-0.014244621619582176,-0.028751011937856674,-0.04947943612933159,0.03333384916186333,-0.03846649080514908,0.01616295613348484,0.03780798986554146,0.046076543629169464,0.0539080835878849,0.0054355524480342865,0.01506231352686882,-0.0019882998894900084,-0.03640485182404518,-0.0763188973069191,-0.06259637326002121,0.00649335328489542,-0.007804775610566139,-0.003670609090477228,-0.0189296193420887,0.0051988172344863415,-0.06926822662353516,-0.02479785680770874,0.005631175823509693,0.030267449095845222,0.022583836689591408,0.03717120736837387,-0.015096207149326801,0.005391082726418972,-0.010501979850232601,-0.04626479744911194,-0.026162756606936455,0.0012059423606842756,0.00574544258415699,-0.016047386452555656,0.003972453530877829,0.025126375257968903,0.022409595549106598,-0.03972206264734268,0.007571636699140072,0.009144122712314129,0.008406974375247955,0.04116492718458176,-0.0010341282468289137,0.007454886566847563,-0.00487115141004324,0.016437606886029243,0.060042377561330795,-0.01016203686594963,-0.004340845625847578,-0.035819072276353836,-0.026821227744221687,0.03170322626829147,0.0001839056785684079,-0.051480431109666824,0.031100820749998093,-0.006029906217008829,0.020249346271157265,-0.03644692525267601,0.05401938036084175,0.0065717874094843864,0.003076230175793171,-0.0128690330311656,0.06368064135313034,-0.01831330545246601,0.003503895364701748,-0.017436416819691658,0.028065210208296776,0.032975148409605026,-0.013296590186655521,-0.023201648145914078,-0.03981524705886841,-0.026049010455608368,-0.10336627811193466,-0.2805134057998657,0.02291514165699482,-0.03929639607667923,-0.029054837301373482,0.01207586657255888,0.00048081320710480213,0.011602761223912239,-0.040782321244478226,-0.05709471181035042,0.0597517304122448,0.0007160335080698133,-0.0009226018446497619,0.02114996314048767,-0.028221214190125465,0.052431587129831314,0.014695263467729092,0.016993070021271706,-0.013894223608076572,-0.02233094722032547,0.014388110488653183,-0.003944377414882183,-0.046546902507543564,0.004554174840450287,0.028663653880357742,0.03654032573103905,0.0949656292796135,-0.02165803872048855,0.02857455611228943,-0.04559016227722168,-0.05234038457274437,0.027624014765024185,-0.03486723080277443,-0.011917385272681713,0.018727758899331093,-0.0019395957933738828,-0.011495549231767654,-0.022294379770755768,-0.025457672774791718,-0.00494535593315959,-0.016942009329795837,0.004490470979362726,0.010700499638915062,-0.04366161674261093,0.04700079187750816,0.02635304257273674,0.008768178522586823,0.025686604902148247,0.026112038642168045,0.017494261264801025,0.08842736482620239,0.008112647570669651,-0.023979552090168,-0.03190901130437851,-0.004131569992750883,-0.039461445063352585,0.010027782991528511,-0.03204828128218651,0.04183387756347656,-0.032911114394664764,0.019695453345775604,-0.017839636653661728,-0.033792644739151,-0.01951264962553978,-0.010657038539648056,-0.008872312493622303,-0.05728275328874588,-0.02645452879369259,-0.04947277158498764,0.04659537971019745,0.044712670147418976,-0.026641642674803734,0.045029159635305405,0.0015538102015852928,-0.0795724168419838,0.017951488494873047,0.00995671097189188,-0.02629893831908703,-0.0409076102077961,-0.003815034870058298,0.046492770314216614,-0.021152429282665253,-0.0460599884390831,0.018595470115542412,0.028741544112563133,-0.0030050543136894703,0.0009664757526479661,0.008493959903717041,0.03805289790034294,-0.04267473891377449,-0.03291166201233864,0.0377538800239563,-0.002613615244626999,-0.021108997985720634,-0.0019825405906885862,0.032574959099292755,0.002083346014842391,-0.012130485847592354,-0.05233050882816315,0.004136563278734684,-0.03489355370402336,0.034375980496406555,-0.02104017324745655,0.03843984380364418,-0.04937155544757843,0.012378448620438576,-0.0028794356621801853,-0.02731236442923546,-0.009092546999454498,0.027089916169643402,-0.024455584585666656,0.03344898298382759,-0.008494799956679344,0.022608112543821335,-0.09138961136341095,0.012214076705276966,0.00894549023360014,0.0027039269916713238,0.048417408019304276,-0.018100937828421593,0.003936874680221081,0.007130569312721491,0.001609229831956327,-0.08167175948619843,-0.022371090948581696,-0.06555355340242386,0.00756123336032033,0.019538015127182007,0.0042366087436676025,0.012308266945183277,0.013715527951717377,0.003084695665165782,0.015742436051368713,0.021616946905851364,-0.012541824951767921,0.04051895812153816,0.026795128360390663,-0.08688819408416748,-0.029512884095311165,-0.0012284854892641306,-0.008629890158772469,-0.015331856906414032,0.04856649041175842,0.0469149649143219,0.0004216496890876442,0.015076090581715107,-0.012855804525315762,0.02467493526637554,-0.001539149321615696,0.00369087653234601,0.013486135751008987,-0.019705751910805702,-0.07046392560005188,0.01600954309105873,-0.03799346834421158,-0.013686738908290863,-0.025779906660318375,0.03361310064792633,0.026750963181257248,0.046694640070199966,-0.08966796100139618,0.003682539099827409,-0.029895808547735214,-0.025649752467870712,-0.008167732506990433,0.02796478569507599,0.052964840084314346,-0.04180416092276573,-0.046722713857889175,-0.002405848354101181,0.026792073622345924,0.012478942051529884,-0.019872521981596947,-0.05570519343018532,0.03048541024327278,-0.0032599852420389652,0.07254931330680847,-0.014681083150207996,-0.013293543830513954,0.018502328544855118,0.024368321523070335,0.0020471264142543077,0.005550699308514595,-0.056327663362026215,-0.016645705327391624,0.05680902674794197,-0.009514519944787025,-0.016229769214987755,-0.030330317094922066,-0.014152664691209793,-0.005736884661018848,0.013435102067887783,0.02327551692724228,0.018686585128307343,0.024617794901132584,-0.06714434176683426,-0.07334691286087036,0.014283920638263226,0.061901822686195374,-0.0035787259694188833,0.013471905142068863,0.0030422983691096306,0.026680495589971542,-0.05498850718140602,-0.029220785945653915,0.06463385373353958,-0.07704995572566986,0.023966750130057335,0.040454763919115067,-0.014165212400257587,0.019826587289571762,-0.03282622992992401,-0.0025234015192836523,-0.03185758367180824,-0.024101227521896362,0.055733572691679,-0.020099956542253494,0.02668733522295952,-0.03681553527712822,-0.01633947715163231,-0.040829453617334366,-0.0021866941824555397,-0.03553764522075653,-0.020590800791978836,0.0075204577296972275,-0.0514405332505703,0.05832834914326668,-0.007351823151111603,-0.005349037237465382,0.03194526210427284,-0.0352250374853611,0.03294198960065842,-0.030543556436896324,0.00006424770981539041,0.05174390599131584,0.04045577347278595,0.061603743582963943,-0.007270182948559523,0.013691713102161884,0.028414273634552956,0.027196241542696953,0.004161811899393797,0.019329620525240898,-0.013565108180046082,-0.0010452426504343748,0.002423146041110158,-0.025215132161974907,-0.0335959829390049,-0.004985142964869738,-0.005597269162535667,0.05265745148062706,0.009915890172123909,-0.004091011825948954,-0.03188183903694153,-0.0406828373670578,0.05176592245697975,-0.024291224777698517,-0.08293993771076202,0.006509881932288408,-0.03880596533417702,0.06150037795305252,-0.010426624678075314,0.05450744926929474,-0.0033326558768749237,0.010949368588626385,0.005538850091397762,0.03020334430038929,0.0017680269666016102,-0.046779025346040726,0.02045968547463417,-0.03977886214852333,0.05646580085158348,-0.043483685702085495,0.017887022346258163,0.021844755858182907,-0.0029356619343161583,0.0027927574701607227,-0.016838544979691505,-0.04985551908612251,0.0003137486055493355,-0.040433626621961594,-0.055851247161626816,0.024230409413576126,-0.0076006813906133175,0.011401343159377575,0.022580642253160477,-0.03874506428837776,-0.029003310948610306,-0.029934387654066086,-0.052771762013435364,0.05064486339688301,-0.016804177314043045,0.0657297819852829,0.000043713574996218085,0.02250083163380623,-0.04042213037610054,-0.004423768259584904,0.0817679837346077,0.03471938520669937,-0.042616281658411026,0.03544482961297035,-0.03468368574976921,0.0690724104642868,0.05452309176325798,0.018154378980398178,0.015349184162914753,-0.01937435194849968,0.008283883333206177,-0.03011213056743145,-0.0026809251867234707,-0.02407512255012989,-0.008818456903100014,-0.057204507291316986,0.03765008971095085,0.030974870547652245,-0.09407828003168106,-0.010865525342524052,0.0015966040082275867,0.014249496161937714,-0.016280218958854675,-0.024368494749069214,-0.009100624360144138,-0.011057368479669094,0.0569239966571331,-0.030097289010882378,0.020982682704925537,0.06830314546823502,-0.02618367224931717,0.021962257102131844,0.040561217814683914,0.06107593700289726,0.03978058695793152,-0.0030871452763676643,-0.015261178836226463,0.08037852495908737,-0.01077854260802269,-0.03767133876681328,0.04043082520365715,0.018323011696338654,-0.01807510107755661,-0.009330901317298412,0.03350711613893509,-0.012320763431489468,-0.013487379066646099,0.09116604179143906,0.048507243394851685,-0.022014442831277847,0.04579401761293411,-0.020039880648255348,0.02332245744764805,-0.023677116259932518,-0.012666772119700909,0.00563264824450016,-0.035197898745536804,0.012529334984719753,0.043170444667339325,-0.03232264146208763,0.01818764954805374,-0.041477542370557785,-0.010506822727620602,0.0193549282848835,0.010386849753558636,0.010053113102912903,0.055312059819698334,-0.03406824916601181,0.001368862809613347,-0.015951141715049744,0.03331708535552025,0.013589323498308659,0.015248588286340237,0.048093222081661224,-0.00985302496701479,0.034868840128183365,-0.025313859805464745,-0.007074230350553989,0.012340801768004894,0.009701673872768879,0.020884396508336067,0.020647332072257996,0.009472490288317204,0.04347555339336395,0.01174653135240078,-0.013614043593406677,-0.03841880336403847,-0.030208487063646317,0.017676780000329018,-0.021292420104146004,-0.003479159437119961,-0.016677096486091614,-0.019800294190645218,-0.04525209218263626,-0.03372533991932869,-0.03583277389407158,-0.058531489223241806,-0.009216218255460262,-0.03268866986036301,-0.05815801024436951,0.028300844132900238,0.026599448174238205,-0.020195377990603447,0.05499189719557762,0.05755956470966339,0.008959677070379257,-0.047473981976509094,-0.007266483269631863,-0.004431975074112415,0.0457746647298336,-0.000721425109077245,-0.005365134682506323,-0.08049678802490234,0.06718412786722183,-0.027162550017237663,0.031780123710632324,-0.05459963157773018,0.03354540094733238,-0.01771470159292221,-0.016652826219797134,0.0873643234372139,0.031945474445819855,-0.005220556166023016,-0.06977283209562302,0.02336898073554039,0.00855766236782074,0.03974609076976776,0.04205576702952385,-0.012452242895960808,0.05002975836396217,0.048041362315416336,0.02116916887462139,-0.010739224962890148,0.011279766447842121,-0.008267032913863659,-0.010143326595425606,-0.02422434464097023,-0.0032518149819225073,-0.0447525717318058,-0.08881372958421707,0.011232300661504269,-0.006718742195516825,0.0184292234480381,-0.04386131465435028,0.04088888317346573,0.0011252135736867785,0.013759205117821693,-0.020387349650263786,0.019024811685085297,-0.02921370230615139,-0.032261062413454056,-0.027126841247081757,-0.043994706124067307,0.03694353997707367,-0.020245617255568504,-0.005904401186853647,-0.014429355040192604,-0.003101005218923092,0.06936027854681015,0.0147336944937706,-0.0406416691839695,0.03742813691496849,0.032023269683122635,-0.021824460476636887],"metadata":{"feature":"Browser Isolation > [Browser Isolation] URL based Browser Isolation","description":"Isolated Browsing through a URL such as https://<authdomain>.cloudflareaccess.com/browser#{{URL}}"}}},{"score":0.656365423,"vectorId":"a0d5c000008Pi2p","vector":{"id":"a0d5c000008Pi2p","values":[-0.0172666534781456,0.005642713513225317,0.019466018304228783,0.01987142115831375,0.0803636685013771,-0.024573639035224915,0.03995151445269585,0.05620269104838371,-0.01713385619223118,-0.006534579675644636,-0.0434085838496685,-0.004490396473556757,-0.051263947039842606,0.04681490734219551,0.019877225160598755,0.05411497503519058,0.013742045499384403,0.008482576347887516,0.05245744809508324,0.03318837657570839,-0.05587046220898628,-0.0005609411164186895,0.004746260121464729,-0.024108219891786575,0.03618729114532471,-0.017305517569184303,-0.015740783885121346,-0.01494694221764803,-0.08717070519924164,-0.019094916060566902,0.04920906573534012,-0.027383768931031227,-0.04805600643157959,-0.03754844143986702,-0.013435745611786842,-0.029620802029967308,-0.05941371992230415,0.01790596731007099,-0.05329157039523125,-0.019373489543795586,-0.047452617436647415,0.027903364971280098,-0.0074282195419073105,-0.008938177488744259,-0.011402597650885582,-0.0008264482021331787,0.013089586980640888,0.011215334758162498,-0.02182481251657009,-0.013647248037159443,-0.09193629026412964,0.012265539728105068,-0.016939545050263405,-0.012387418188154697,0.008718069642782211,0.04422103986144066,0.019308654591441154,-0.05109034851193428,-0.005441255401819944,-0.05646666884422302,0.025567110627889633,-0.02855619229376316,0.02390436641871929,-0.02113829180598259,0.007696947082877159,-0.03685283288359642,0.00941495131701231,0.03740942105650902,-0.015384841710329056,-0.08665390312671661,0.014898152090609074,0.04674989730119705,0.0060690962709486485,-0.032702140510082245,0.0014888214645907283,-0.01403181441128254,-0.027309520170092583,-0.012501120567321777,0.05803995579481125,0.011942431330680847,-0.02346968837082386,-0.004483755212277174,-0.004208182916045189,0.05657745152711868,-0.021546177566051483,-0.05301225557923317,-0.03433365747332573,0.012204946018755436,-0.01184535026550293,0.09753673523664474,-0.002334197284653783,-0.0064168362878263,0.07362246513366699,0.004477739799767733,0.015469508245587349,-0.004731262568384409,0.02507862262427807,0.01438409835100174,-0.006126482971012592,-0.0019844905473291874,-0.04039027541875839,0.013191251084208488,0.008840837515890598,-0.017977900803089142,-0.08190351724624634,0.01848192699253559,-0.006106173153966665,-0.004259422421455383,0.009488225914537907,-0.006282242946326733,0.0033508227206766605,-0.0302298441529274,-0.025861745700240135,-0.029338547959923744,-0.07543935626745224,0.07058308273553848,0.03979656100273132,-0.04162704199552536,0.035821568220853806,-0.009235618636012077,0.08635257184505463,0.022213689982891083,-0.021618543192744255,0.08026842772960663,0.013215997256338596,-0.005793873220682144,-0.02915348671376705,0.08419506251811981,-0.025180840864777565,-0.027075106278061867,-0.017485016956925392,0.06512754410505295,-0.0019690580666065216,-0.004394036717712879,0.020001880824565887,0.007664827164262533,-0.016881311312317848,-0.013505995273590088,-0.0038081698585301638,-0.02689572423696518,0.04052620753645897,0.024971919134259224,-0.012471532449126244,0.0007763818721286952,0.037448156625032425,-0.010265307500958443,-0.015951240435242653,-0.042693525552749634,-0.03320648893713951,0.013064480386674404,-0.0031537392642349005,0.01711006462574005,-0.014958810992538929,-0.053497299551963806,-0.022958040237426758,0.053811509162187576,0.08343427628278732,-0.054006364196538925,-0.02479800395667553,-0.008636852726340294,0.050496362149715424,-0.01998567208647728,0.01594696193933487,0.004466386511921883,-0.021410886198282242,0.012734711170196533,-0.0006009512580931187,0.0026363362558186054,-0.035368844866752625,0.02459142915904522,-0.04797039553523064,0.016056029126048088,0.04048573225736618,-0.037754885852336884,0.019338533282279968,0.026507031172513962,0.059411488473415375,0.05729667469859123,0.0491601899266243,-0.0264793261885643,-0.058365337550640106,0.03386128321290016,-0.02924707904458046,0.055269256234169006,0.03145115450024605,-0.03635559603571892,0.07778289169073105,-0.03353302553296089,0.011518207378685474,0.026627637445926666,-0.12356075644493103,-0.04593450576066971,0.060030385851860046,0.007198633626103401,0.04407322406768799,-0.001829770626500249,0.030065730214118958,0.051914893090724945,-0.0013779803412035108,0.01951383426785469,0.000454889697721228,0.010175028815865517,0.020877519622445107,-0.06641415506601334,-0.049685411155223846,0.006858149077743292,0.05532224476337433,-0.03460541367530823,-0.011018509045243263,0.003447042778134346,-0.026693593710660934,0.027855295687913895,0.07469538599252701,-0.02522103488445282,0.056029871106147766,0.030926218256354332,0.027791611850261688,-0.003362576710060239,0.020209433510899544,-0.053004272282123566,0.056749507784843445,-0.029072700068354607,0.010561516508460045,0.01402039173990488,-0.03166652098298073,0.09438424557447433,0.04927598312497139,-0.015376470051705837,0.008905253373086452,-0.0179985873401165,-0.02554735727608204,-0.006834415718913078,-0.009410967119038105,-0.07346812635660172,0.005902380682528019,0.015307314693927765,-0.010676147416234016,-0.0725342333316803,0.012794355861842632,-0.031228486448526382,0.023466922342777252,0.06255655735731125,0.0007358620059676468,0.057019613683223724,-0.0295829176902771,0.013270546682178974,0.03415020555257797,-0.04651565104722977,0.000504261814057827,-0.0184622909873724,-0.030509229749441147,0.01469377614557743,0.0026577122043818235,0.009945612400770187,-0.026900485157966614,-0.031541142612695694,-0.011101631447672844,0.03309937193989754,0.03342446684837341,0.03523624688386917,0.026150844991207123,-0.004893703386187553,-0.014185702428221703,0.005752626806497574,0.011643428355455399,-0.054989803582429886,-0.05425814911723137,0.017722027376294136,-0.013550525531172752,0.018641285598278046,0.07238173484802246,-0.006463932804763317,0.001698821666650474,0.017403578385710716,0.012461263686418533,-0.0031666229479014874,0.0380483977496624,0.0013180609093979,0.010590890422463417,0.009576446376740932,-0.012427816167473793,0.043607279658317566,-0.026643164455890656,-0.01887028105556965,-0.04234030097723007,-0.05123132839798927,0.011198988184332848,-0.03956170752644539,-0.031060466542840004,0.015725180506706238,0.052669819444417953,0.016093313694000244,0.01605512574315071,0.019701886922121048,0.06442449241876602,-0.0049177841283380985,-0.017122190445661545,0.06456369906663895,0.008820457383990288,0.0048296162858605385,-0.029388461261987686,0.009938733652234077,0.001011518994346261,-0.01228457409888506,-0.03493892401456833,-0.0579814575612545,-0.010856615379452705,-0.056893158704042435,-0.27634716033935547,0.058608751744031906,0.007633962202817202,-0.025085732340812683,-0.018213113769888878,-0.014531197026371956,0.023646363988518715,-0.03938557207584381,-0.05803077295422554,0.002318631624802947,0.029571443796157837,-0.012645243667066097,-0.0026163298171013594,-0.02931349352002144,0.054621145129203796,0.057859763503074646,-0.003451404394581914,-0.01600911282002926,0.02712438628077507,-0.03422904387116432,-0.006714944262057543,-0.03163594752550125,0.014649268239736557,-0.009951971471309662,0.044025782495737076,0.025850065052509308,-0.024098094552755356,-0.0631595179438591,-0.0422203503549099,0.00014232855755835772,0.03936795890331268,-0.05036959797143936,-0.011840191669762135,0.02794359251856804,-0.010461791418492794,-0.06348388642072678,0.053844138979911804,-0.0003600082127377391,-0.008026376366615295,-0.02218385599553585,0.03641636297106743,-0.02775152027606964,-0.030286360532045364,0.0027046725153923035,0.026220478117465973,-0.02328106202185154,-0.0017367152031511068,-0.005014581605792046,0.017095621675252914,0.06344550102949142,-0.002720956224948168,-0.022694343701004982,-0.06825021654367447,-0.0007568852743133903,-0.07415195554494858,0.013267132453620434,0.004684929735958576,0.018833572044968605,-0.03757243975996971,0.03111416846513748,-0.0010556497145444155,-0.013115004636347294,-0.002166442573070526,-0.04835491254925728,-0.017188487574458122,-0.025501934811472893,-0.027498707175254822,-0.050755154341459274,0.06287464499473572,0.06067701056599617,0.005170330870896578,0.022677868604660034,0.012845460325479507,-0.06408508867025375,0.036909375339746475,-0.03521820157766342,0.028948815539479256,-0.02734500728547573,0.01507424283772707,0.04211139678955078,-0.034137062728405,-0.022523745894432068,0.009417181834578514,0.007004628889262676,0.009297105483710766,-0.04285544157028198,0.008971904404461384,0.03554672747850418,-0.009438332170248032,-0.04094783589243889,0.055063627660274506,-0.010160247795283794,-0.0013628106098622084,0.006409880705177784,0.050541795790195465,0.019475704059004784,0.02446315996348858,-0.0022417865693569183,-0.012372732162475586,-0.046015094965696335,0.036558326333761215,-0.043422095477581024,0.013240378350019455,-0.04620582237839699,0.018328318372368813,0.00018057669512927532,-0.022229928523302078,0.008287614211440086,0.045735396444797516,0.018056927248835564,0.014334071427583694,-0.0140543757006526,-0.009272519499063492,-0.06524316221475601,-0.012899377383291721,-0.05010301619768143,0.03271610289812088,0.03723646327853203,-0.007163494825363159,-0.04068944975733757,0.01390945166349411,0.019115902483463287,-0.0005385256372392178,-0.031749747693538666,-0.04907005652785301,0.014830940403044224,-0.01510526705533266,0.037531737238168716,0.026004040613770485,-0.005615795962512493,-0.01915702596306801,-0.0013627920998260379,0.01183414552360773,0.01096208207309246,0.004775034263730049,-0.03326193988323212,-0.021623076871037483,-0.0748659297823906,-0.03133343160152435,0.0030888377223163843,0.003974296152591705,0.028012672439217567,0.004167797043919563,0.010872362181544304,0.058732882142066956,0.006950153037905693,-0.011758790351450443,0.03274333477020264,0.031077397987246513,-0.007490955758839846,0.0020191047806292772,-0.0829479843378067,-0.019758636131882668,-0.052140120416879654,-0.03139245882630348,-0.0019608449656516314,0.083551324903965,0.008919470943510532,0.00683829328045249,-0.05200330540537834,0.03856508061289787,-0.05301205441355705,-0.014307127334177494,0.028139732778072357,0.006300878245383501,0.050653450191020966,-0.015331493690609932,-0.015166962519288063,-0.012687702663242817,0.013627353124320507,-0.02321479842066765,-0.006137406919151545,-0.004219744820147753,-0.018301647156476974,-0.004677891731262207,0.016860025003552437,-0.015185868367552757,-0.039977066218853,-0.0027301714289933443,0.015339828096330166,0.0015747856814414263,-0.0293371994048357,-0.01486142911016941,-0.002945807296782732,0.058550480753183365,0.009583028964698315,-0.007929862476885319,0.01208638958632946,0.006995356176048517,0.05578460916876793,0.016081243753433228,-0.022008907049894333,-0.002157260663807392,0.03199290111660957,-0.03515664488077164,-0.07425536960363388,0.055910155177116394,0.030103320255875587,0.0007319845608435571,-0.03947073966264725,-0.0042259893380105495,-0.02569238282740116,-0.051772840321063995,0.008907887153327465,-0.00023128408065531403,-0.05052940547466278,0.019775547087192535,0.042479634284973145,0.027165284380316734,0.018627231940627098,-0.03894758224487305,-0.01928037218749523,-0.05521335452795029,0.030743567273020744,0.05241897702217102,-0.011999440379440784,-0.0264488123357296,-0.0018138305749744177,0.022553222253918648,-0.0035042348317801952,0.03450199216604233,-0.04714168235659599,-0.04039282724261284,-0.029206866398453712,-0.009439641609787941,0.09201344847679138,-0.0008227883372455835,-0.03623871132731438,-0.014561468735337257,-0.012345699593424797,0.004649968817830086,-0.03810996189713478,-0.01397150382399559,0.04652845486998558,0.006545210722833872,0.07140504568815231,-0.014438741840422153,0.028582962229847908,-0.029022786766290665,0.04179148003458977,-0.027353035286068916,-0.009412008337676525,-0.001886053360067308,-0.04796501621603966,0.04303490370512009,0.023468369618058205,-0.0213154386729002,0.019593868404626846,-0.02203434519469738,0.03540031239390373,-0.015301784500479698,0.03095146268606186,0.006876826751977205,-0.02175397239625454,0.034543681889772415,-0.03748637065291405,-0.045029353350400925,-0.004770546220242977,-0.0688885971903801,-0.04490026459097862,0.01983007974922657,0.021452199667692184,-0.006814994383603334,0.03772248700261116,0.05083903297781944,0.03347619250416756,0.018492884933948517,-0.011126013472676277,0.038846492767333984,-0.01679554209113121,0.016986293718218803,-0.01791962794959545,0.03994876518845558,0.06898823380470276,-0.03062814101576805,0.02125648781657219,-0.006733225658535957,0.0022917180322110653,0.023094281554222107,-0.012956657446920872,-0.055284298956394196,-0.0031595821492373943,-0.010337432846426964,-0.011131629347801208,0.03922472149133682,-0.009874996729195118,0.002854815684258938,0.011968224309384823,-0.06299783289432526,0.051949284970760345,-0.002973417052999139,0.024282287806272507,0.01494962815195322,-0.015808895230293274,-0.07576246559619904,-0.05208732560276985,0.06354251503944397,0.005474956706166267,0.022228099405765533,0.001755021745339036,-0.03213135153055191,0.03709142655134201,0.05039861798286438,0.0032995976507663727,0.024365630000829697,0.02529783360660076,-0.057732272893190384,-0.060454074293375015,0.0343598946928978,0.009320247918367386,-0.02481936104595661,-0.05109874904155731,0.06395851075649261,0.01919890008866787,-0.08445198833942413,-0.04181516915559769,0.030473891645669937,-0.040717389434576035,0.008571583777666092,0.008652954362332821,-0.03691429644823074,-0.017932329326868057,0.08000411093235016,-0.010521728545427322,0.01968812197446823,0.05014004185795784,0.005056566093116999,0.021433191373944283,0.01188341248780489,0.03069688193500042,0.05018781125545502,0.028079448267817497,0.03104855678975582,0.05284000560641289,-0.017733076587319374,-0.07211671024560928,0.012336517684161663,-0.01257338747382164,-0.02760852687060833,-0.008593793027102947,0.04272118955850601,-0.012599176727235317,0.03486274182796478,0.05870535969734192,-0.0011685332283377647,-0.033845286816358566,0.06141398474574089,-0.002433992689475417,0.05987413600087166,0.025891397148370743,0.003687491873279214,0.0048369537107646465,-0.013978765346109867,0.0043128184042871,0.03738992288708687,-0.03959830850362778,-0.007289256900548935,0.01943017728626728,-0.008898911997675896,0.002704230137169361,0.0034101782366633415,0.04786904528737068,0.08150697499513626,-0.0312455203384161,-0.007120762951672077,0.00634800037369132,0.017868416383862495,-0.011873103678226471,0.016460316255688667,0.02555515617132187,-0.011755525134503841,-0.011989354155957699,-0.03951316326856613,-0.002985534491017461,-0.003624315606430173,0.04588482156395912,0.04045356065034866,0.04160316288471222,-0.01721150055527687,0.023757528513669968,-0.03104778565466404,0.019037719815969467,-0.032245468348264694,-0.009067549370229244,0.01914200372993946,-0.03259724751114845,-0.013993311673402786,-0.01308466587215662,-0.04782283306121826,-0.014273160137236118,0.00072190206265077,-0.02297043986618519,0.004781180527061224,-0.04160773381590843,-0.01308348122984171,-0.05482722073793411,0.052913229912519455,0.01898225210607052,0.03856753930449486,0.027177853509783745,0.02777964249253273,-0.012770266272127628,-0.03118014708161354,-0.021532276645302773,0.021875297650694847,0.008749986998736858,-0.019256772473454475,-0.013253194279968739,-0.107612743973732,0.04673147201538086,-0.017526332288980484,-0.010316243395209312,-0.06569814682006836,0.04558217152953148,0.0018279185751453042,-0.01206792052835226,0.07132116705179214,0.05947509780526161,-0.02832188457250595,-0.05487958341836929,-0.03411278501152992,-0.017784303054213524,0.02212754264473915,0.07157137989997864,-0.025457020848989487,0.05439786985516548,0.06249887868762016,0.028887763619422913,-0.03415912389755249,0.020241836085915565,0.009194949641823769,-0.0017824099631980062,0.0015003198059275746,-0.0404631607234478,-0.06444021314382553,-0.08304136246442795,-0.01985960640013218,0.009027295745909214,0.014677081257104874,-0.03984666243195534,0.047744523733854294,-0.00878242775797844,-0.02003765106201172,-0.0632203072309494,-0.0011351652210578322,-0.016060998663306236,-0.02310771867632866,-0.051143888384103775,-0.0667124018073082,0.031311605125665665,-0.021633749827742577,-0.060465194284915924,-0.013853823766112328,-0.02183523401618004,0.039304040372371674,-0.020385244861245155,0.011615879833698273,-0.003694262122735381,0.016246844083070755,-0.007298347540199757],"metadata":{"feature":"Firewall > [Misc] WAF/Firewall Analytics","description":"Display granular WAF Analytics via both API and UI so that customers gain further insight into WAF activity. This is critical as today it is virtually impossible to tune our WAF. Current WAF only allows enabling or disabling by domain or pagerule, but based on traffic app it is not possible to determine which URLs the WAF should be disabled for and why. Significant usability improvements to traffic app (distribution of events, top N rules, URLs, IPs, rules, time range search) ENT customer tuning WAF, BIC, and other security features. https://jira.cfops.it/browse/RM-854"}}},{"score":0.654073132,"vectorId":"a0d2G00000X5BBa","vector":{"id":"a0d2G00000X5BBa","values":[0.0010603346163406968,0.006732478272169828,0.062046442180871964,0.024175088852643967,0.061454739421606064,-0.03580525144934654,0.04072504863142967,0.03259310871362686,0.0017480612732470036,-0.019993064925074577,-0.03056950494647026,-0.017792487516999245,-0.050428446382284164,0.052506182342767715,0.03377993777394295,0.06499458849430084,0.021881571039557457,0.02516261488199234,0.02639232575893402,0.009451890364289284,0.011946022510528564,-0.012774337083101273,0.010826312005519867,-0.015821682289242744,0.031913310289382935,0.008160168305039406,0.011850283481180668,0.011381473392248154,-0.07946240901947021,-0.025324981659650803,0.07625380903482437,0.04417265206575394,-0.03513043373823166,-0.02114604040980339,-0.025847487151622772,-0.008054185658693314,-0.031480297446250916,0.00487690232694149,-0.07254283875226974,0.02200445905327797,-0.032522425055503845,0.01893576979637146,-0.02635420300066471,0.0035217953845858574,-0.02746267430484295,0.011584382504224777,-0.04029630124568939,0.03406321257352829,-0.006073575001209974,-0.009477606043219566,-0.06811916828155518,-0.0006893844692967832,0.0069343941286206245,0.0006335840444080532,-0.0016658174572512507,0.02745037153363228,-0.005709969904273748,-0.07556992024183273,0.0354115255177021,-0.06631027162075043,-0.011195377446711063,-0.018068471923470497,0.00573385925963521,0.008962813764810562,0.0013575858902186155,-0.02305244840681553,-0.02233426831662655,0.044387415051460266,-0.04607110098004341,-0.033818185329437256,0.024538597092032433,-0.036506831645965576,0.026030708104372025,0.017416013404726982,0.04077845811843872,-0.016107922419905663,-0.004401266574859619,0.03175518661737442,0.013261323794722557,0.027382994070649147,0.043129269033670425,-0.006939680781215429,0.0021020914427936077,0.04236706346273422,-0.029346704483032227,-0.07442734390497208,-0.01138901337981224,0.00675430940464139,-0.028701530769467354,0.078560009598732,-0.00895166490226984,-0.03148508816957474,0.06974611431360245,-0.012482145801186562,0.011627926491200924,-0.030100174248218536,0.020082524046301842,0.0278733242303133,0.006283759139478207,-0.016621919348835945,-0.01500927098095417,0.009685786440968513,-0.00845254585146904,-0.02623973786830902,-0.06802649050951004,-0.006184547673910856,0.003554487833753228,-0.02640574611723423,-0.03687996417284012,0.0037594428285956383,-0.010480017401278019,-0.005574179347604513,-0.025047358125448227,-0.022127503529191017,-0.046883296221494675,0.0885583758354187,-0.004618075210601091,-0.01859339512884617,0.03180340677499771,-0.003759487299248576,0.05394279584288597,0.041594263166189194,-0.01233318354934454,0.07072781771421432,0.0002627668436616659,-0.033802129328250885,-0.01058581005781889,0.06374138593673706,-0.023850416764616966,-0.051983192563056946,0.018950531259179115,0.05351028963923454,0.02203371748328209,-0.019676487892866135,0.011854742653667927,0.019767608493566513,-0.0016739066923037171,-0.01910332404077053,0.04441925138235092,-0.027547862380743027,-0.025848109275102615,-0.08614646643400192,-0.008790635503828526,-0.01062370277941227,0.05416489019989967,-0.024691464379429817,-0.01733199693262577,-0.03905148059129715,-0.05829133093357086,-0.014612252824008465,-0.022795522585511208,0.009233909659087658,-0.0024905609898269176,-0.051814913749694824,0.0028746554162353277,0.0420888289809227,0.04600054770708084,-0.03514430299401283,0.00031256425427272916,-0.0293295755982399,0.048809461295604706,-0.027834821492433548,-0.008025803603231907,0.02155313268303871,-0.004624341148883104,0.02903861179947853,-0.009977023117244244,0.012782059609889984,-0.022475888952612877,0.009181197732686996,-0.06721992790699005,0.04302838072180748,0.05416657775640488,-0.03657442331314087,0.02989911288022995,0.020028961822390556,0.0678892731666565,-0.0002630673989187926,0.03613784909248352,-0.0029346011579036713,-0.07770872861146927,0.05339306965470314,0.016817523166537285,0.05184449255466461,0.0042403158731758595,-0.03383524715900421,0.05845034494996071,-0.0394015908241272,0.01744825392961502,0.04227876663208008,-0.10647428035736084,-0.06270193308591843,0.02856748178601265,-0.00681410264223814,0.051977455615997314,0.012223314493894577,-0.007766099646687508,0.04548405483365059,0.011299215257167816,0.0430142842233181,-0.018356598913669586,0.0019100750796496868,0.0038459349889308214,-0.03443662449717522,-0.08895091712474823,-0.027637304738163948,0.040221426635980606,-0.024126693606376648,-0.004567599389702082,0.0006631935830228031,-0.03419198468327522,-0.0027519920840859413,-0.010858354158699512,-0.027539342641830444,0.03412183001637459,0.0007605366408824921,0.0009607947431504726,-0.019292045384645462,-0.026065226644277573,-0.02792808972299099,0.0721164345741272,-0.09117530286312103,0.01629537343978882,0.02403167635202408,0.004587294068187475,0.08079781383275986,0.06029443070292473,-0.04933033138513565,-0.04051223769783974,0.0237624179571867,0.01964360848069191,-0.015087582170963287,0.013797864317893982,-0.03711910545825958,0.020686354488134384,-0.005197782535105944,-0.008204505778849125,-0.034671273082494736,0.04767680540680885,-0.03435878828167915,0.019508522003889084,0.06054798513650894,0.030738042667508125,0.023165268823504448,0.001219104859046638,0.004751032683998346,0.021280420944094658,-0.008018892258405685,-0.040719110518693924,-0.015725944191217422,0.013222858309745789,0.005849792622029781,0.01841534674167633,-0.027819164097309113,-0.0032180631533265114,-0.0454542301595211,0.017192859202623367,0.03184458240866661,0.05259643867611885,0.024391790851950645,0.014074336737394333,0.019046317785978317,-0.029186220839619637,-0.011030270718038082,0.008017175830900669,-0.05552547425031662,-0.04786596819758415,-0.020181316882371902,0.005568694323301315,-0.004655526950955391,0.04710768535733223,-0.0010471913265064359,-0.0115753673017025,0.022308502346277237,0.02378278784453869,0.009057347662746906,0.03522476926445961,0.00700224656611681,0.02253303863108158,0.00196503265760839,-0.009711316786706448,0.07288441807031631,0.006272478960454464,-0.012949843890964985,-0.058757081627845764,-0.06310873478651047,0.022066432982683182,-0.02005852200090885,-0.05237637460231781,0.004944426007568836,0.02460172213613987,0.02607652358710766,0.004662123508751392,0.06562166661024094,0.05849650874733925,0.029562082141637802,0.018313512206077576,0.07266896218061447,0.01170261949300766,-0.000040356546378461644,-0.00041973040788434446,0.016700604930520058,0.03074069693684578,0.004582695662975311,-0.02602318301796913,-0.04271090775728226,0.019068745896220207,-0.06356610357761383,-0.2794615626335144,0.03201990947127342,0.008485537953674793,-0.022496921941637993,0.012959159910678864,-0.002515623578801751,0.012190449051558971,-0.054506972432136536,-0.015630265697836876,0.017946729436516762,-0.019302189350128174,0.02184177190065384,0.028893910348415375,-0.013546711765229702,0.06318122893571854,0.009743520058691502,0.008046338334679604,-0.01498387847095728,-0.009155068546533585,-0.0074559529311954975,-0.025797463953495026,-0.04899122938513756,0.031865719705820084,0.014561120420694351,0.019664298743009567,0.04739002883434296,-0.027355661615729332,0.034735746681690216,-0.0122502651065588,-0.03699532151222229,0.04193282127380371,-0.04235228896141052,-0.03450791910290718,0.019118867814540863,-0.025112954899668694,-0.04848813638091087,0.022131096571683884,0.002610682277008891,-0.002417505020275712,-0.008332550525665283,-0.0023076951038092375,0.00021260044013615698,-0.04016157239675522,0.04944964125752449,0.05336012691259384,-0.020085083320736885,-0.01710311509668827,0.00978900957852602,-0.003044992685317993,0.07953403145074844,0.00019396061543375254,-0.01747763529419899,-0.031059514731168747,0.023704254999756813,-0.05417541787028313,0.019816506654024124,-0.03614170104265213,0.031517691910266876,-0.025848809629678726,0.05254106968641281,-0.00581443402916193,-0.04062529653310776,-0.0359070785343647,-0.04698240011930466,-0.01785949245095253,-0.0398935005068779,-0.03629866614937782,-0.050750307738780975,0.032190870493650436,-0.010059753432869911,0.02369571477174759,0.02753790281713009,-0.006474351044744253,-0.08240563422441483,0.03307046368718147,-0.01511953491717577,0.037541307508945465,-0.005115375388413668,0.021642552688717842,0.035175953060388565,-0.029052218422293663,-0.0005248002125881612,0.044527847319841385,0.0013190263416618109,-0.012616482563316822,-0.030900821089744568,0.052923645824193954,0.019649354740977287,-0.034237585961818695,-0.02554144337773323,0.038531526923179626,-0.03528757393360138,-0.021580524742603302,-0.02162468060851097,0.08035150170326233,0.02435111068189144,0.037853892892599106,-0.04087721183896065,0.01541778165847063,-0.0017179226269945502,0.0367203913629055,-0.03356562554836273,-0.01619606278836727,-0.018722260370850563,0.022671567276120186,-0.007277474272996187,-0.004141209647059441,0.005727299489080906,0.034001078456640244,-0.01052261982113123,0.0343361422419548,-0.05355476960539818,-0.0007677626563236117,-0.06473806500434875,-0.016265004873275757,-0.009242982603609562,0.013006366789340973,0.012189408764243126,-0.007080662064254284,-0.010121197439730167,0.036015644669532776,0.030781129375100136,-0.0327950157225132,0.014130014926195145,-0.06435360014438629,-0.05566111207008362,0.002221828093752265,0.013829879462718964,0.04888537898659706,0.007564547937363386,0.014363149181008339,0.01170908659696579,-0.010723790153861046,-0.02876775711774826,0.06656967848539352,-0.018400950357317924,-0.007304174359887838,-0.0609222836792469,0.004539367277175188,-0.002248588250949979,-0.017405997961759567,0.02618766576051712,0.044847019016742706,0.0052269259467720985,0.043639615178108215,0.03596976026892662,0.004696877673268318,0.01948884315788746,0.0160482469946146,-0.015482764691114426,-0.02241409569978714,-0.11010603606700897,-0.005969679914414883,-0.047152139246463776,-0.03845258429646492,-0.0554603710770607,0.06490588188171387,0.022129110991954803,0.02971591427922249,-0.07337108254432678,0.0613115020096302,-0.03527074679732323,-0.035821445286273956,-0.018748436123132706,0.027439896017313004,0.07756616175174713,-0.022648189216852188,-0.024743417277932167,-0.034755121916532516,-0.031375620514154434,-0.026898043230175972,0.005009332671761513,-0.03744319826364517,0.006404367741197348,-0.03405047953128815,0.0383664034307003,-0.03806441277265549,-0.017855403944849968,0.021770445629954338,0.03787829726934433,0.010412740521132946,-0.01848236471414566,-0.04403100907802582,-0.011465364135801792,0.05069797486066818,0.021687999367713928,-0.013425690121948719,0.02650613524019718,-0.015649262815713882,0.022295579314231873,-0.02815028466284275,0.017041264101862907,-0.027723917737603188,0.010050257667899132,-0.015907013788819313,-0.08181299269199371,0.03144143521785736,0.04203581064939499,-0.02544299326837063,-0.008540350012481213,0.013533132150769234,0.002773179905489087,-0.022765623405575752,-0.03491650149226189,0.06787119805812836,-0.06902950257062912,0.041364461183547974,0.0549275204539299,-0.020316241309046745,0.05127159506082535,-0.020226504653692245,-0.05941969156265259,-0.07031603157520294,0.010467065498232841,0.019921008497476578,-0.06562458723783493,0.0006295060156844556,0.007378252688795328,0.03328097611665726,-0.03574593737721443,-0.006887396331876516,-0.026279278099536896,-0.03694446012377739,-0.0017379802884534001,-0.034718092530965805,0.04883680120110512,0.011890375055372715,-0.03468099981546402,-0.013697803020477295,-0.03082309663295746,-0.018926894292235374,-0.0355532243847847,-0.030420247465372086,0.04589758440852165,-0.007939912378787994,0.06654331833124161,-0.03194161877036095,0.02336595207452774,-0.01212113257497549,0.05900727957487106,-0.0263132955878973,0.03639305382966995,-0.005528794135898352,-0.02664761431515217,-0.0048720515333116055,0.02642682008445263,0.00991933885961771,0.030751876533031464,0.01484833937138319,0.022366322576999664,0.0014511256013065577,0.04181956499814987,-0.003475726814940572,-0.004418531898409128,0.029515452682971954,-0.0721779614686966,-0.016697131097316742,-0.041470035910606384,-0.05375676974654198,0.009348592720925808,-0.012173602357506752,0.03933528810739517,-0.01036133710294962,0.023084932938218117,0.01745893992483616,0.00977284088730812,-0.027574343606829643,-0.03608990088105202,0.03278718143701553,-0.04846625775098801,0.0646432414650917,-0.04326706752181053,0.02284322865307331,0.0313991941511631,-0.006915610749274492,0.011659150943160057,0.022070398554205894,-0.006598698440939188,0.004241541493684053,-0.014757775701582432,-0.08624979853630066,0.0048760101199150085,-0.023607568815350533,-0.025031616911292076,-0.015559094958007336,-0.04130764305591583,0.025915304198861122,-0.003115851664915681,-0.029587598517537117,0.03371083736419678,-0.014757916331291199,0.05651167780160904,-0.021233687177300453,0.014759873040020466,-0.026079632341861725,-0.05863148719072342,0.06441086530685425,0.020162303000688553,-0.03601890429854393,0.03839503228664398,-0.029812684282660484,0.02799360454082489,0.0663561150431633,0.01321039255708456,-0.0053330594673752785,-0.03189500421285629,-0.0006957431905902922,-0.03806208819150925,0.08310496807098389,0.0014898594236001372,-0.010936819016933441,-0.03942529112100601,0.0614001490175724,0.023495256900787354,-0.08500935882329941,0.001306565827690065,0.07059139013290405,-0.007409511599689722,-0.006250704638659954,-0.03799924626946449,-0.029268724843859673,-0.013958540745079517,0.04410373419523239,0.020147180184721947,0.01812784932553768,0.047317296266555786,0.0018832426285371184,0.03443391993641853,0.020108019933104515,0.06932983547449112,0.07372431457042694,0.030828548595309258,-0.010250278748571873,0.07447326928377151,-0.046831775456666946,-0.0725506842136383,0.0333767831325531,-0.016411246731877327,-0.009883577935397625,0.01771356165409088,-0.0007162420079112053,0.01917310059070587,0.03321659937500954,0.08247271925210953,-0.011531030759215355,0.006386943161487579,0.028906967490911484,-0.010410131886601448,0.03368533402681351,-0.016490036621689796,-0.00012656314356718212,0.0175467636436224,-0.06113367900252342,0.0071946620009839535,0.01591024175286293,-0.04659955948591232,-0.05063570290803909,0.009074360132217407,-0.0004813449631910771,0.0068847741931676865,-0.014964248985052109,0.001104844268411398,0.06390579044818878,-0.05729205906391144,-0.016444360837340355,-0.012162243016064167,-0.003989089280366898,-0.014211478643119335,0.014231044799089432,-0.005299500655382872,-0.010485244914889336,0.013805498369038105,0.010577014647424221,-0.011125745251774788,0.009890171699225903,0.021988535299897194,0.013407496735453606,-0.015884418040513992,0.0025608239229768515,0.02981828898191452,0.015901925042271614,-0.007595609873533249,-0.028470683842897415,-0.03434797748923302,-0.004416301380842924,-0.032391127198934555,-0.02260187640786171,0.04132124036550522,-0.006382848136126995,-0.013816306367516518,-0.050294581800699234,0.03434033319354057,-0.010627584531903267,0.025266438722610474,-0.04766068235039711,-0.06983894854784012,0.015517424792051315,0.01469859667122364,0.04432409256696701,0.01861012913286686,0.04781680926680565,-0.00732196681201458,-0.05915369465947151,-0.019693264737725258,-0.029109284281730652,0.016574295237660408,-0.006191771477460861,-0.019904255867004395,-0.1099601611495018,0.04992510750889778,-0.015149109065532684,0.008469597436487675,-0.06115418300032616,0.02715795859694481,-0.016260575503110886,-0.00759030831977725,0.06272158771753311,0.05212540179491043,-0.01107112504541874,-0.004447886720299721,-0.030043674632906914,-0.012053115293383598,0.020883111283183098,0.026072479784488678,0.02215912565588951,0.08313316106796265,0.04657333344221115,0.03017427772283554,-0.008761242963373661,0.025580331683158875,-0.0036832450423389673,0.012908468022942543,-0.01901114732027054,0.0039442796260118484,-0.02736520953476429,-0.051823414862155914,0.0034302081912755966,0.002611336763948202,0.003565477207303047,-0.06198738515377045,0.017895838245749474,0.01682240143418312,-0.01456068828701973,-0.08792347460985184,0.03541583940386772,-0.006780370604246855,-0.017431315034627914,-0.04744308814406395,-0.03641368821263313,0.04252207279205322,0.0004207702004350722,-0.03119301237165928,-0.011047678999602795,-0.03370824083685875,0.02687995322048664,-0.03396114334464073,0.020576870068907738,0.03589038923382759,0.03653199225664139,-0.03697842359542847],"metadata":{"feature":"Gateway > [Gateway] Full Proxy / URL Filtering / SSL Inspection","description":"Gateway being delivered as a full proxy will mean Cloudflare is able to inspect HTTP requests leaving a device when the Teams client is active.\n\nThis is the first step of delivering a Cloud Firewall and would make us competitive against Cisco Umbrella's SIG."}}}]}}
  let i = 0
  data.matches.matches.forEach((match) => {
    
    rows.push({id: i, vectorId: match.vectorId, score: match.score, feature: match.vector.metadata.feature, description: match.vector.metadata.description})
    i++
  })
  return rows
}

const IndexPage = () => {

  const [rows, setRows] = useState([]);
  const [query, setQuery] = useState("");

  useEffect(() => {
    const query = localStorage.getItem("query")
  }, []);

  async function queryData(query){
    await axios.get('https://feature-db-vector.steph.workers.dev/query?query=' + query).then(res => {
      let i = 0
      let rows = []
      res.data.matches.matches.forEach((match) => {
        rows.push({id: i, vectorId: match.vectorId, score: match.score, feature: match.vector.metadata.feature, description: match.vector.metadata.description})
        i++
      })
      //console.log(rows)
      setRows(rows)
    })
  }

  const handleChange = e => {
    const { name, value } = e.target;
    if (name === "query") {
      localStorage.setItem(name, value);
    }
  };

  async function handleSubmit() {
    //console.log(localStorage.getItem("query"))
    if (localStorage.getItem("query")) {
      queryData(localStorage.getItem("query"))
      //console.log(parseData())
    }
  }
  
  const Search = () => {

    return (
      <div style={{display: "flex", alignItems: "center"}}>
        <TextField id="fr-search" name="query" label="type your research" variant="outlined" onChange={handleChange}/>
        <Fab style={{marginLeft: 10}} size="medium" variant="extended" onClick={handleSubmit}>
          <SearchIcon sx={{ mr: 1 }} />
          Submit
        </Fab>
      </div>
    )
    
  }
  const QueryResult = () => {
    return (
      <Box marginTop={2} sx={{ height: '100%', width: '100%' }}>
        <DataGrid
          rows={rows}
          columns={columns}
          getRowHeight={() => 'auto'}
          sx={{
            '&.MuiDataGrid-root--densityCompact .MuiDataGrid-cell': { py: '8px' },
            '&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell': { py: '15px' },
            '&.MuiDataGrid-root--densityComfortable .MuiDataGrid-cell': { py: '22px' },
          }}
          initialState={{
            pagination: {
              paginationModel: {
                pageSize: 10,
              },
            },
          }}
          pageSizeOptions={[10]}
          checkboxSelection
          disableRowSelectionOnClick
        />
      </Box>
    );
  }
  
  return (
   
    <main style={pageStyles}>
      <body>
      <section style={{display: "flex", alignItems: "center"}}><img src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/3svCT8cJUghQV8YLBsfTTI/4505d22b366ab61aca59b881a72445d1/code-api.svg"></img>
      <h1 style={{display: "inline-block"}}>
      <span style={{headingAccentStyles, marginLeft: 19}}>Feature request DB search engine</span>
      </h1>
      </section>

      <p>This research function is provided by Workers AI using embeddings generated from 10K+ feature request. If you want to learn more about Workers AI and Vectorize, follow the links!</p>
      <p><Link href="https://developers.cloudflare.com/workers-ai/">Worker Vectorize documentation</Link></p>
      <p><Link href="https://developers.cloudflare.com/vectorize/get-started/intro/">Worker AI documentation</Link></p>
      <h2>Learn more</h2>
      <p>Just input your research in the text field and press the submit button, this will request the feature request DB vector index hosted in workers AI. 
      
      <Alert style={{marginTop: 10, marginBottom: 10, maxWidth: '100%'}} severity="info">Scores are returned as ratios and 1 is better (the model inference points you to this element by similarity).</Alert>
      </p>
      <h2>Search results</h2>
      <Search/>
      <QueryResult/>
      </body>
    </main>
  )
}

export default IndexPage

export const Head = () => <title>Home Page</title>
